let pokemonRepository=function(){let d=[];function a(a){"object"==typeof a&&"name"in a?d.push(a):console.log("Pokemon input is not correct!")}function b(){return d}function c(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imgUrl=b.sprites.other.dream_world.front_default,a.height=b.height,a.types=b.types.map(a=>a.type.name).join(", "),a.abilities=b.abilities.map(a=>a.ability.name).join(", ")}).catch(function(a){console.error(a)})}return{add:a,getAll:b,addListItem:function(d){let e=document.querySelector(".list-group"),b=document.createElement("li");b.classList.add("list-group-item","col-6","mx-auto","border-0");let a=document.createElement("button");a.innerText=d.name,a.classList.add("btn","btn-default","btn-block","font-weight-bold"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#pokemon-modal"),b.appendChild(a),e.appendChild(b),a.addEventListener("click",function(){(function(a){c(a).then(function(){var b;let c,d,f,e,g,h,i;console.log(a),b=a,c=$(".modal-body"),d=$(".modal-title"),d.empty(),c.empty(),f=$("<h1>"+b.name+"</h1>"),e=$('<img class="modal-img" style="width:40%">'),e.attr("src",b.imgUrl),g=$("<p>Height : "+b.height+"</p>"),h=$("<p>Types : "+b.types+"</p>"),i=$("<p>Ablilities : "+b.abilities+"</p>"),d.append(f),c.append(e),c.append(g),c.append(h),c.append(i)})})(d)})},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(a){return a.json()}).then(function({results:b}){b.forEach(function({name:c,url:d}){let b={name:c,detailsUrl:d};a(b),console.log(b)})}).catch(function(a){console.error(a)})},loadDetails:c,clear:function(){document.querySelector(".list-group").innerHTML=""}}}();function searchList(){let a=document.querySelector("#input-pokemon").value;console.log(a),render(a),a=""}function render(a){if(pokemonRepository.clear(),a){pokemonRepository.getAll().forEach(function(b){b.name.includes(a)&&pokemonRepository.addListItem(b)});return}pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})}document.querySelector("#search-button").addEventListener("keydown",function(a){"Enter"===a.key&&(console.log(a),a.preventDefault(),searchList())}),pokemonRepository.loadList().then(function(){render()})
